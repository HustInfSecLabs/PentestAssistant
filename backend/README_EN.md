# PentestAssistant Backend

The backend of the Web Penetration Detection Assistant developed based on Express, the database uses MongoDB.

## Quick Start

### 1. Environment Configuration

First, make sure that the `node.js` environment exists in the computer. We recommend using `pnpm`. If it is not installed, you need to use npm to install it globally.

```shell
pnpm install
```

Install MongoDB, start the MongoDB service, and create a database and user. The default database name is `pentest`, and the username and password are both `pentest`.

```shell
db.createUser({
    user: "pentest",
    pwd: "pentest",
    roles: [{role: "readWrite", db: "pentest" }]
})
```

In addition, we use three common Web vulnerability scanning tools: `w3af`, `arachni`, and `zaproxy`. Therefore, we deploy and install these three vulnerability scanning tools, and implement the API call method.

```shell
$ docker run --name w3af -p 5000:5000 -v /home/kali/dockerDir/w3af:/home/w3af/exdir andresriancho/w3af-api
$ docker run --name arachni -p 7331:7331 -p 9292:9292 arachni/arachni
$ docker run --name zaproxy -p 7373:7373 -v /home/kali/dockerDir/zap:/home/zap/exdir owasp/zap2docker-live zap.sh -daemon -host 0.0.0.0 -port 7373 -config api.addrs.addr.name=.* -config api.addrs.addr.regex=true -config api.disablekey=true -config start.checkForUpdates=false
```

### 2. Start-up

Start a local API server to receive requests from the frontend. You can use the environment variable `PORT` to specify the open port, the default is 8003.

```shell
$ pnpm start
```
